# Список загрузок офлайн-конверсий - Импорт офлайн-конверсий | API Яндекс Метрики

Офлайн-конверсии и звонки

## В этой статье:

  1. API импорта данных
  2. Импорт офлайн-конверсий
  3. Отслеживание конверсий

# Отслеживание конверсий

С помощью API Яндекс Метрики вы можете отслеживать конверсии действий посетителей на сайте и дополнять данные конверсиями, совершенными в офлайне (например, информацией о звонках).

Примеры построения целевых отчетов:

## [](ru/management/conversion#offline)Офлайн-конверсии и звонки

В момент посещения сайта Яндекс Метрика собирает информацию о характеристиках посетителя, его поведении на страницах сайта, совершенных целевых действиях и прочее. Однако у бизнеса могут быть и другие значимые сведения, которые собираются вне сайта: факт оплаты, звонка и т. д. Данные об этих действиях можно передавать в Метрику и связывать поведение ваших клиентов на сайте с их действиями в офлайне.

С помощью передачи офлайн-данных вы можете решать ряд задач, например:

  * связывать онлайн- и офлайн-историю пользователей и видеть более полную картину воронки конверсии;
  * использовать офлайн-данные для рекламы — формировать сегменты для рекламы в Директе, в том числе с помощью технологии поиска похожих пользователей, доступной в сервисе Яндекс.Аудитории ([look-alike](https://yandex.../support/audience/segments/look-alike.md)).

В качестве офлайн-данных можно передавать:

  * Офлайн-конверсии. Например, информацию о заказах, которые были оформлены на сайте, а оплачены в офисе. Эти данные может передавать владелец сайта через [веб-интерфейс Метрики](https://yandex.../support/metrica/data/offline-conversion-data.md) или с помощью API.

  * Информацию о звонках. Как правило, этими сведениями обладает сервис колл-трекинга, обслуживающий вашу компанию. Он и передает данные в Метрику с помощью API.

Данные передаются в CSV-файле.

### [](ru/management/conversion#nes)Как работает сопоставление офлайн-конверсий

Для привязки офлайн-данных к посетителям сайта и их визитам в Яндекс Метрике существует период учета конверсии — он составляет 21 день. Это значит, что данные о конверсии будут добавлены к визиту, если между последним визитом посетителя на сайт и моментом обработки файла с данными о конверсиях прошло не больше 21 дня.

Конверсия не привяжется к визиту, если она совершена позже или вы передали данные о ней позднее 21 дня с момента визита на сайт.

При использовании разных идентификаторов способы атрибуции конверсии различаются:

  * `ClientID` и `UserID`. Офлайн-конверсии и звонки будут добавлены к тому визиту посетителя, который им предшествовал. Например, у посетителя было три визита: 1 марта, 5 марта и 11 марта. При этом 10 марта он выкупил заказ в точке продаж, и эта дата была зафиксирована в CRM. А 20 марта менеджер отправил данные в Метрику: заказ, выкупленный 10 марта, будет добавлен к визиту клиента на сайт, который состоялся 5 марта.
  * `yclid`. Конверсии добавятся к визиту, источником которого является рекламное объявление, привязанное к переданному `yclid`.
  * `PurchaseId`. Конверсии добавятся к визиту, в котором призошла покупка электронной коммерции с указанным идентификатором.

**Специальные идентификаторы**
    

ClientID

UserID

yclid

PurchaseId

Идентификатор уникального посетителя сайта, который Яндекс Метрика создает автоматически.

Используется для отслеживания офлайн-конверсий и звонков, а также передачи параметров посетителей.

Передавайте данные, используя ClientID, например, если на сайте нет системы идентификаторов, или для вас она не важна.

В этом случае необходимо:

  1. Получить идентификаторы с помощью метода JavaScript API [getClientID](https://yandex.../support/metrica/objects/get-client-id.md).
  2. Отправить их вместе с остальными данными в CSV-файле.

Идентификатор посетителя сайта, заданный владельцем сайта.

Используется для отслеживания офлайн-конверсий и звонков, а также передачи параметров посетителей.

Передавайте данные, используя UserID, если на сайте уже сформирована система идентификаторов посетителей (например, по логину), и вы активно работаете с этими данными.

В этом случае необходимо:

  1. Настроить передачу идентификаторов в Яндекс Метрику с помощью метода JavaScript API [setUserID](https://yandex.../support/metrica/objects/set-user-id.md), чтобы связывать UserID с ClientID.
  2. Передать UserID и другие данные в CSV-файле. Собственные идентификаторы будут привязаны к ClientID только для тех посетителей сайта, во время посещений которых метод `setUserID` был вызван. Для сбора более полной статистики рекомендуем подождать некоторое время, пока в Яндекс Метрику будет передан больший объем данных.

Идентификатор клика по рекламному объявлению Яндекс.Директа, назначается Яндекс.Директом. Используется для привязки конверсий к рекламе в Директе. С помощью этого идентификатора можно отслеживать конверсии действий на сайте и в офлайне.

Идентификатор покупки электронной коммерции, заданный владельцем сайта. Используется для привязки конверсий к визитам, в которых произошла покупка с указанным `id`.

### [](ru/management/conversion#data)Как передавать данные

О том, как передавать данные, смотрите в разделах:

### Была ли статья полезна?

ДаНет

Предыдущая

[Информация о загрузке звонков](openapi/call/findcalluploadingbyid.md)

Следующая

[Передача офлайн-конверсий](offline-conv.md)